{% extends "report_port.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block report_content %}
    <a class="btn btn-default" href="{{ url_for('main.generate_excel') }}" role="button">生成表格</a>
    <table class="table table-striped table-condensed" style="min-width:2000px;" >
        <thead>
            <tr>
                <th>设备名</th>
                <th>设备IP</th>
                <th>port</th>
                <th>端口带宽</th>
                <th>Admin State</th>
                <th>Link State</th>
                <th>Port State</th>
                <th>CfgMTU</th>
                <th>OperMTU</th>
                <th>LAG</th>
                <th>PortMode</th>
                <th>PortEncp</th>
                <th>PortType</th>
                <th>C/QS/S/XFP/MDIMDX</th>
                <th>收光功率</th>
                <th>发光功率</th>
                <th>收光门限</th>
                <th>发光门限</th>
                <th>是否存在异常</th>
            </tr>
        </thead>
        <tbody>
            {% for item in report_data %}
                <tr>
                    <th>{{ item[0] }}</th>
                    <th>{{ item[16] }}</th>
                    <th>{{ item[1] }}</th>
                    <th>
                        {% if item[11].startswith('10') %}
                            10GE
                        {% else %}
                            GE
                        {% endif %}
                    </th>
                    <th>{{ item[2] }}</th>
                    <th>{{ item[3] }}</th>
                    <th>{{ item[4] }}</th>
                    <th>{{ item[5] }}</th>
                    <th>{{ item[6] }}</th>
                    <th>{{ item[7] }}</th>
                    <th>{{ item[8] }}</th>
                    <th>{{ item[9] }}</th>
                    <th>{{ item[10] }}</th>
                    <th>{{ item[11] }}</th>
                    {% if item[2] != 'Up' or item[3] != 'Yes' or item[4] != 'Up' or item[13] == '' or (item[13]|float >= item[15].split('|')[1]|float and item[13]|float <= item[15].split('|')[0]|float) %}
                        <th>{{ item[13] }}</th>
                    {% else %}
                        <th bgcolor="#FF0000">{{ item[13] }}</th>
                    {% endif %}
                    {% if item[2] != 'Up' or item[3] != 'Yes' or item[4] != 'Up' or item[12] == '' or (item[12]|float >= item[14].split('|')[1]|float and item[12]|float <= item[14].split('|')[0]|float) %}
                        <th>{{ item[12] }}</th>
                    {% else %}
                        <th bgcolor="#FF0000">{{ item[12] }}</th>
                    {% endif %}
                    <th>{{ item[15] }}</th>
                    <th>{{ item[14] }}</th>
                    {% if item[17] == '否' or item[17] == '' %}
                        <th>否</th>
                    {% else %}
                        <th bgcolor="#FF0000">是</th>
                    {% endif %}
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}

{% block scripts %}
{{ super() }}
<style>
    td { word-wrap:break-word; }
</style>
{% endblock %}
